<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        var Student=[];
        function Calculate()
        {
            var e=Number(document.getElementById("txteng").value);
            var m=Number(document.getElementById("txtmat").value);
            var s=Number(document.getElementById("txtsci").value);
            var Total=e+m+s;
            var Per=(Total/3).toFixed(2);
            var g=" ";
            if(Per>35)
            {
                g="Pass";
            }
            else
            {
                g="Fail";
            }
            document.getElementById("txttotal").value=Total;
            document.getElementById("txtper").value=Per;
            document.getElementById("txtgd").value=g;
        };
        function Add()
        {
           var r=document.getElementById("txtrno").value;
           var n=document.getElementById("txtname").value;
           var e=Number(document.getElementById("txteng").value);
           var m=Number(document.getElementById("txtmat").value);
           var s=Number(document.getElementById("txtsci").value);
           var t=document.getElementById("txttotal").value;
           var p=document.getElementById("txtper").value;
           var g=document.getElementById("txtgd").value;
           var st={"rno":r,"name":n,"english":e,"maths":m,"science":s,"total":t,"percentage":p,"grade":g};
           Student.push(st);
           alert("Added Successfully");
           Clear();
           Display();
        };
        function Update(d)
        {
        var r=document.getElementById("txtrno").value;
           var n=document.getElementById("txtname").value;
           var e=Number(document.getElementById("txteng").value);
           var m=Number(document.getElementById("txtmat").value);
           var s=Number(document.getElementById("txtsci").value);
           var t=document.getElementById("txttotal").value;
           var p=document.getElementById("txtper").value;
           var g=document.getElementById("txtgd").value;
           var st={"rno":r,"name":n,"english":e,"maths":m,"science":s,"total":t,"percentage":p,"grade":g};
           Student[index]=st;
           alert("Updated Successfully");
           Clear();
           Display();
        };
        function Clear()
        {
            document.getElementById("txtrno").value=" ";
            document.getElementById("txtname").value=" ";
            document.getElementById("txteng").value=" ";
            document.getElementById("txtmat").value=" ";
            document.getElementById("txtsci").value=" ";
            document.getElementById("txttotal").value=" ";
            document.getElementById("txtper").value=" ";
            document.getElementById("txtgd").value=" ";
        };
       
        function Display()
        {
            var i;
            var data=" ";
            for(i=0;i<Student.length;i++)
            {
                var d=Student[i];
                data=data+"<tr><td>"+d.rno+"</td><td>"+d.name+"</td><td>"+d.english+"</td><td>"+d.maths+"</td><td>"+d.science+"</td><td>"
                +d.total+"</td><td>"+d.percentage+"</td><td>"+d.grade+"</td><td>"+"<input type='button' value='View' onclick='ViewStudent("+i+")'/>"+"</td><td>"+
                "<input type='button' value='x' onclick='DeleteStudent("+i+")'/>"+"</td></tr>";
            }
            document.getElementById("tbldata").innerHTML=data;
        };
        function ViewStudent(d)
        {
            index =d;
            var st=Student[index];
            document.getElementById("txtrno").value=st.rno;
            document.getElementById("txtname").value=st.name;
            document.getElementById("txteng").value=st.english;
            document.getElementById("txtmat").value=st.maths;
            document.getElementById("txtsci").value=st.science;
            document.getElementById("txttotal").value=st.total;
            document.getElementById("txtper").value=st.percentage;
            document.getElementById("txtgd").value=st.grade;
        }
        function DeleteStudent(p)
        {
            Student.splice(p,1);
            alert("deleted successfully");
            Display();
        }
        function FilterData()
        {
            var fd=document.getElementById("txtfilter").value;
            var i;
            var data=" ";
            for(i=0;i<Student.length;i++)
            {
                var d=Student[i];
                if(d.rno.toLowerCase().includes(fd.toLowerCase()))
                {
                data=data+"<tr><td>"+d.rno+"</td><td>"+d.name+"</td><td>"+d.english+"</td><td>"+d.maths+"</td><td>"+d.science+"</td><td>"
                +d.total+"</td><td>"+d.percentage+"</td><td>"+d.grade+"</td><td>"+"<input type='button' value='View' onclick='ViewStudent("+i+")'/>"+"</td><td>"+
                "<input type='button' value='x' onclick='DeleteStudent("+i+")'/>"+"</td></tr>";
                }
            }
            document.getElementById("tbldata").innerHTML=data;
        }
    </script>
</head>
<body>
    <div class="col-md-6">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h2>Student Information</h2>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <label>Roll No</label><br/>
                    <input type="text" id="txtrno" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>Name</label><br/>
                    <input type="text" id="txtname" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>English</label><br/>
                    <input type="text" id="txteng" onchange="Calculate()" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>Maths</label><br/>
                    <input type="text" id="txtmat" onchange="Calculate()" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>Science</label><br/>
                    <input type="text" id="txtsci" onchange="Calculate()" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>Total</label><br/>
                    <input type="text" id="txttotal" onchange="Calculate()" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>Percentage</label><br/>
                    <input type="text" id="txtper" onchange="Calculate()" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>Grade</label><br/>
                    <input type="text" id="txtgd" onchange="Calculate()" class="form-control"/>
                </div>
            </div>
            <div class="panel-footer"><br/>
                <button class="btn btn-success" onclick="Add()">Add</button>
                <button class="btn btn-warning" onclick="Update()">Update</button>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="panel panel-primary">
        <div class="panel-heading">
        <h2>Table</h2>
        </div>
        <table class="table  table-bordered table-striped table-hover">
            <thead>
                <tr>
                    <th>Roll No</th>
                    <th>Name<br/><input type="text" id="txtfilter" placeholder="Search By Name" onkeyup="FilterData()"/></th>
                    <th>English</th>
                    <th>Maths</th>
                    <th>Science</th>
                    <th>Total</th>
                    <th>Percentage</th>
                    <th>Grade</th>
                    <th>Action</th>
                </tr>
            </thead>
        </div>
        <tbody id="tbldata"></tbody>
        </table>
    </div>
</body>
</html>